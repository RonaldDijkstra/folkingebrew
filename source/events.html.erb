<% events = dato.events_page.events %>

<% content_for(:head) do %>
  <%= dato_meta_tags(dato.events_page) %>
<% end %>

<%= regular_header title: dato.events_page.title %>

<% regular_content html: { class: "mb-12 sm:mb-24" } do %>
  <% markdown_content do %>
    <%= markdownify(dato.events_page.content) %>
    <table role="table" class="responsive-table">
      <thead role="rowgroup">
        <tr role="row">
          <th role="columnheader"><%= t("events.date") %></th>
          <th role="columnheader"><%= t("events.event") %></th>
          <th role="columnheader"><%= t("events.location") %></th>
          <th role="columnheader">&nbsp;</th>
        </tr>
      </thead>
      <tbody role="rowgroup">
        <tr role="row">
          <% if !events.empty? %>
            <% events.each do |event| %>
              <td role="cell">
                <%= local_date_time(event.date) %>
              </td>
              <td role="cell"><%= event.title %></td>
              <td role="cell"><%= event.location %></td>
              <td role="cell"><%= link_to t("events.link"), "#{event.url}", target: "_blank", rel: "noopener noreferrer nofollow", class: "text-green-default hover:no-underline" %></td>
            <% end %>
          <% else %>
            <td colspan="4"><%= dato.events_page.no_upcoming_events_text %></td>
          <% end %>
        </tr>
      </tbody>
    </table>
  <% end %>
<% end %>
