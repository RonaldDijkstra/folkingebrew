<% content_for(:page_class) do %>
  beer-show
<% end %>

<% content_for(:head) do %>
  <%= dato_meta_tags(beer) %>
<% end %>

<%
  bg_color = beer.background_color == "dark" ? "bg-gray-800" : "bg-white"
%> 

<section class="lg:flex lg:px-6 lg:mt-12 mb-12">
  <figure class="lg:flex-1 h-full lg:w-1/2 relative <%= bg_color %>">
    <picture class="block h-full w-full">
      <% if beer.image.url %>
        <%= image_tag beer.image.url, alt: beer.title, class: "product-image", id: "product-image" %>
      <% else %>
        <%= image_tag "/assets/images/shop/placeholder.png", alt: product.title, class: "product-image", id: "product-image" %>
      <% end %>
    </picture>
  </figure>
  <div class="bg-white px-6 py-12 lg:w-1/2 lg:flex lg:flex-col lg:justify-center">
    <h1 class="text-3xl font-bold">
      <%= beer.title %>
    </h1>
    <p class="mb-6">
      <%= beer.short_description %>
    </p>
    <div class="border-dotted border-t-4 border-l-4 border-r-0 border-b-0 flex flex-wrap mb-2 w-full">  
      <% if beer.abv %>
      <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
        <div class="w-full font-bold text-2xl"><%= beer.abv %>%</div>
        <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.abv") %></div>
      </div>
      <% end %>
      <% if beer.style %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.style %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.style") %></div>
        </div>
      <% end %>
      <% unless beer.hops.strip.empty? %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.hops %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.hops") %></div>
        </div>
      <% end %>
      <% unless beer.fruits.strip.empty? %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.fruits %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.fruits") %></div>
        </div>
      <% end %>
      <% unless beer.malts.strip.empty? %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.malts %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.malts") %></div>
        </div>
      <% end %>
      <% unless beer.adjuncts.strip.empty? %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.adjuncts %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.adjuncts") %></div>
        </div>
      <% end %>
      <% unless beer.yeast.strip.empty? %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.yeast %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.yeast") %></div>
        </div>
      <% end %>
      <% if beer.release_month %>
        <div class="content-end items-end flex flex-grow flex-wrap font-bold p-3 border-dotted border-r-4 border-b-4 border-l-0 lg:w-1/3">
          <div class="w-full font-bold"><%= beer.release_month %></div>
          <div class="w-full text-gray-400 text-sm"><%= t("beers.facts.release_date") %></div>
        </div>
      <% end %>
    </div>
  </div>
</section>
<section>
  <div class="px-6 pb-12 text-center">
    <%= button text: "View all Releases",
               link: true,
               href: "/beers/",
               type: :default_white,
               html: { class: "inline-block" } %>
  </div>
</section>